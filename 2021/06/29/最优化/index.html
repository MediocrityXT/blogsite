

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/blogsite/img/apple-touch-icon.png">
  <link rel="icon" href="/blogsite/img/favicon.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f85e5">
  <meta name="author" content="XT">
  <meta name="keywords" content="">
  
    <meta name="description" content="最优化理论与方法可以说是机器学习的一个前置学科，虽然更偏数学，但是它的很多优化思想都用在了机器学习的训练算法中。本文为课程笔记，对应教材为《最优化导论》第四版。">
<meta property="og:type" content="article">
<meta property="og:title" content="最优化导论">
<meta property="og:url" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/index.html">
<meta property="og:site_name" content="SummerSecret">
<meta property="og:description" content="最优化理论与方法可以说是机器学习的一个前置学科，虽然更偏数学，但是它的很多优化思想都用在了机器学习的训练算法中。本文为课程笔记，对应教材为《最优化导论》第四版。">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210303205435001.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210309092601106.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210617143201449.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210617152537264.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210620132314622.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210402144741983.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210622100047166.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210622100100902.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210622100122542.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210621145917491.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210623205907085.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210623112458358.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210623112545881.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210623112606088.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210622152551045.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210623115237869.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210520141649994.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210519102120451.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210624102010484.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210625151233484.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210625214639143.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210626141924234.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210626163618322.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210626163548768.png">
<meta property="og:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210626170319903.png">
<meta property="article:published_time" content="2021-06-29T07:11:32.000Z">
<meta property="article:modified_time" content="2021-06-29T07:11:32.000Z">
<meta property="article:author" content="XT">
<meta property="article:tag" content="复习">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://mediocrityxt.github.io/blogsite/2021/06/29/%E6%9C%80%E4%BC%98%E5%8C%96/image-20210303205435001.png">
  
  
  <title>最优化导论 - SummerSecret</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hint.css@2/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@10/styles/github-gist.min.css" />
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- 主题依赖的图标库，不要自行修改 -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/blogsite/css/main.css" />

<!-- 自定义样式保持在最底部 -->


  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"mediocrityxt.github.io","root":"/blogsite/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/blogsite/local-search.xml"};
  </script>
  <script  src="/blogsite/js/utils.js" ></script>
  <script  src="/blogsite/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 6.1.0"></head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/blogsite/">
      <strong>SummerSecret</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/blogsite/">
                <i class="iconfont icon-home-fill"></i>
                首页
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/blogsite/archives/">
                <i class="iconfont icon-archive-fill"></i>
                归档
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/blogsite/categories/">
                <i class="iconfont icon-category-fill"></i>
                分类
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/blogsite/tags/">
                <i class="iconfont icon-tags-fill"></i>
                标签
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/blogsite/about/">
                <i class="iconfont icon-user-fill"></i>
                关于
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/blogsite/img/banner.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="最优化导论">
              
            </span>

            
              <div class="mt-3">
  
  
    <div class="mt-1">
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2021-06-29 15:11" pubdate>
          2021年6月29日 下午
        </time>
        
      </span>
    </div>
    <div class="mt-1">
      
    </div>
  
</div>

<div class="mt-1">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      8.3k 字
    </span>
  

  
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      70 分钟
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">最优化导论</h1>
            
            <div class="markdown-body">
              <h1 id="线性代数"><a href="#线性代数" class="headerlink" title="线性代数"></a>线性代数</h1><h2 id="向量（默认指列向量）"><a href="#向量（默认指列向量）" class="headerlink" title="向量（默认指列向量）"></a>向量（默认指列向量）</h2><p>向量从数组-》坐标系中箭头的本质：数组中保存的基的系数x坐标系的基向量-》从原点指向目标位置的箭头（因为都是从原点出发，所以只考虑端点也可以）</p>
<p>线性无关的向量集：两种定义</p>
<ul>
<li>除非系数全为0，否则他们的线性组合永不为0</li>
<li>不存在某一向量可被其他向量的线性组合表示</li>
</ul>
<p>线性组合</p>
<p>张成子空间：向量集中任意向量之间所有线性组合的集合。张成子空间中的一组线性无关向量则称为子空间的一组基。</p>
<h2 id="线性变换"><a href="#线性变换" class="headerlink" title="线性变换"></a>线性变换</h2><p>线性代数中的变换遵守两个原则，1. 所有直线还是直线（所有空间中的向量变换后线性组合系数依然不变，实质上是对基向量的变换实现了所有向量的变换。）、2. 原点不动。[若满足1不满足2则为仿射变换]</p>
<h3 id="相似"><a href="#相似" class="headerlink" title="相似"></a>相似</h3><p>（基变换） 若存在非奇异矩阵T，令$A=T^{-1}BT$，则A与B相似。相似矩阵表示相同线性变换。证明：</p>
<p>同一个空间可以用不同基向量形成的坐标系来描述。假设B是默认坐标系里的某种线性变换，A则是新坐标系下对空间相同的线性变换。</p>
<script type="math/tex; mode=display">
A\vec x=T^{-1}BT\vec x</script><p>可以看出当x用新坐标系描述的某向量，则Tx相当于默认坐标系下的该向量。而T就相当于将新坐标系变换到默认坐标系，T的逆则是将默认坐标系再变回新坐标系。</p>
<p><strong>一句话总结：</strong>将陌生坐标系下的向量，左乘T翻译为默认坐标系下的向量，所以左乘B得到默认坐标系下发生变换得到的结果向量，再左乘T的逆，将结果向量翻译成陌生坐标系下的结果向量。所以$A=T^{-1}BT$，陌生坐标系下的线性变换A与默认坐标系下的线性变换B相同。</p>
<h2 id="矩阵"><a href="#矩阵" class="headerlink" title="矩阵"></a>矩阵</h2><h3 id="直观理解"><a href="#直观理解" class="headerlink" title="直观理解"></a>直观理解</h3><p>矩阵本质是一组基。<strong>这组基是单位正交基经过线性变换后得到的向量。</strong>矩阵因为包含了这组变换后的基，可以表示这次线性变换。类似</p>
<p>现在看三维的单位矩阵</p>
<script type="math/tex; mode=display">
I=\begin{bmatrix}
1 & 0 & 0 \\
0 & 1 & 0 \\
0 & 0 & 1 \\
\end{bmatrix}</script><p>为什么$Ix=x$？</p>
<p>因为右侧默认的三维空间基向量就是I的列向量，也即单位正交基。</p>
<script type="math/tex; mode=display">
e_1=\begin{bmatrix}
1\\0\\0
\end{bmatrix}
,\quad
e_2=\begin{bmatrix}
0\\1\\0
\end{bmatrix}
,\quad
e_3=\begin{bmatrix}
0\\0\\1
\end{bmatrix}</script><p>看一个n维矩阵</p>
<script type="math/tex; mode=display">
A=\begin{bmatrix}
a_1,a_2,\cdots,a_n
\end{bmatrix}\\</script><p>$a_i$均为长度为n的列向量，表示某单位正交基<strong>$e_i$在经过A表示的变换之后的基向量</strong>在空间中的位置（向量$a_i$中的数字为用单位正交基表示该位置的线性组合系数）。</p>
<p>矩阵相乘，如AB=C，可理解为B中每列所表示的基向量都经历了A所表示的线性变换后，该列向量成为新的能够表示先B后A的两次线性变换的基向量保存在C中。</p>
<h3 id="行列式：-detA、-A"><a href="#行列式：-detA、-A" class="headerlink" title="行列式：$detA、|A|$"></a>行列式：$detA、|A|$</h3><p>首先定义在原本空间$\mathbb{R}^n$中由单位正交基作为边，定义的<strong>单位大小空间</strong>（在2维空间中是单位正方形；3维空间中是单位立方体）。经过A的线性变换后得到的<strong>新空间$\mathbb{R}^m$的单位大小空间</strong>是由A中保存的新空间的基向量作为边定义的。</p>
<p>而detA的值（绝对值）就是新空间$\mathbb{R}^m$的单位大小空间在原本空间$\mathbb{R}^n$中的大小，也表示空间大小变化的比例。</p>
<p>detA=0表示空间降维，m&lt;n；否则m=n。若detA&lt;0，则还表示新空间的定向发生变化（相当于发生镜面对称：在二维世界相当于平面翻转成原本的背面；三维世界相当于从右手螺旋镜面为左手螺旋）</p>
<p><em>奇异矩阵——该方阵A不为满秩——detA=0——降维的线性变换——A的逆矩阵不存在</em></p>
<p>detA=0时A能够降维，将某一维上的所有向量全部降到同一个点。但是任何函数，包括线性变换，不能将某一个点升维，变为新维度上的无限个点。所以逆矩阵不存在。</p>
<p>A的<strong>列空间</strong>就是A的列向量张成的空间，即Ax，其中x为任意向量。</p>
<p>A的零空间，又称为核，是Ax=0的解空间，即所有在线性变换后落到原点的向量的集合。</p>
<h3 id="秩"><a href="#秩" class="headerlink" title="秩"></a>秩</h3><p>矩阵A中线性无关列的最大数目。rank(A)表示这个变换后的空间有多少维度。</p>
<blockquote>
<p>保秩运算有：</p>
<p>a)矩阵的初等变换；<br>b)矩阵中加入一列，且该列式列向量组的线性组合；<br>c)矩阵乘以可逆矩阵<br>d) 转置、旋转、镜像、……</p>
</blockquote>
<h3 id="列空间与零空间的关系"><a href="#列空间与零空间的关系" class="headerlink" title="列空间与零空间的关系"></a>列空间与零空间的关系</h3><p>【来自MIT公开课：以 2020 年的全新眼光审视线性代数】矩阵转置：$A$的列空间是$A^T$的行空间。$A^T$的列空间是$A$的行空间。</p>
<script type="math/tex; mode=display">
\left\{\begin{array}{r}
Ax=0\\
A^Ty=0
\end{array}
\right.</script><p>上式中所有$x$的集合为A的零空间，A的零空间中任意向量都与A的任意行向量正交，所以称A的零空间与A的行空间正交，又因为转置的性质，所以有：</p>
<script type="math/tex; mode=display">
N(A)\perp C(A^T),N(A^T)\perp C(A)
\\N(A)表示A的零空间，C(A)表示A的列空间</script><p>根据零空间定义，所以A的行空间中任意向量x都有Ax=b，b不为0。b的全体集合为A的列空间。</p>
<p><img src="image-20210303205435001.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210303205435001"></p>
<h2 id="线性方程组"><a href="#线性方程组" class="headerlink" title="线性方程组"></a>线性方程组</h2><p>$Ax=b$</p>
<p>指找到某向量x能经过A变换为b；或者找到b经过$A^{-1}$变换后的向量x。</p>
<p>特解+基础解系：对A的0空间进行平移(Manifold,流形)</p>
<h2 id="向量的内积与范数（欧氏空间）"><a href="#向量的内积与范数（欧氏空间）" class="headerlink" title="向量的内积与范数（欧氏空间）"></a>向量的内积与范数（欧氏空间）</h2><p>两向量内积可以刻画两向量相差的角度，内积函数具有非负性、对称性、可加性、齐次性。</p>
<p><img src="image-20210309092601106.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210309092601106"></p>
<p>欧式内积为$<x,y>=x^T y$，还可以定义许多不同内积函数。<x,y>=0则x,y正交。</p>
<p>复空间内积定义与实空间不同。</p>
<h3 id="【来自线性代数的本质】向量点积："><a href="#【来自线性代数的本质】向量点积：" class="headerlink" title="【来自线性代数的本质】向量点积："></a>【来自线性代数的本质】向量点积：</h3><script type="math/tex; mode=display">
u\cdot v=\begin{bmatrix}u_1\\u_2\end{bmatrix}\cdot \begin{bmatrix}v_1\\v_2\end{bmatrix}
\Leftrightarrow\begin{bmatrix}u_1\space u_2\end{bmatrix} \begin{bmatrix}v_1\\v_2\end{bmatrix}=Uv</script><p>$u\cdot v=|u||v|cos\theta$可以理解为v向u做投影，投影与u相乘；或者理解为将二维平面进行降维的线性变换U——因为$[1,0]$投影到u所在直线上的长度为$cos\theta$，因为$[0,1]$投影到u所在直线上的长度为$sin\theta$，而$\frac{u_1}{u_2}=|u|\frac{cos\theta}{sin\theta}$所以这个变换U相当于<strong>把整个二维平面投影到u所在的直线上然后进行|u|倍缩放</strong>。</p>
<p>引申到n维向量uv点乘，可以理解为n维空间中的v向量投影到u所在直线然后缩放，输入为n维，输出为1维。</p>
<h3 id="向量范数"><a href="#向量范数" class="headerlink" title="向量范数"></a>向量范数</h3><p>范数可以刻画向量长度。范数有非负性、齐次性、三角不等式。欧式范数（2范数）$||x||=\sqrt{<x,x>}=\sqrt{x^Tx}$。还有1-范数、p-范数、inf-范数。范数等价性：某范数的上下界能被其他范数表示。</p>
<p>1范数：所有分量绝对值之和<br>2范数：所有元素平方和的平方根（欧氏距离）<br>inf-范数（无穷范数）：元素绝对值中最大的一个<br>p范数：2范数的平方、开平方改为p次方、开p次方(p&gt;=1)</p>
<h3 id="柯西-施瓦兹不等式"><a href="#柯西-施瓦兹不等式" class="headerlink" title="柯西-施瓦兹不等式"></a>柯西-施瓦兹不等式</h3><script type="math/tex; mode=display">
对于R^n中任意x,y有\\
|\langle x,y\rangle|\le||x||\space||y||</script><h3 id="叉积"><a href="#叉积" class="headerlink" title="叉积"></a>叉积</h3><script type="math/tex; mode=display">
二维情况下：\\
|\vec{v} \times\vec{w}|=det([\vec{v},\vec{w}])=det(
\begin{bmatrix}v_1 &w_1\\
v_2&w_2
\end{bmatrix})
\\
|\vec{v} \times\vec{w}|=|\vec v||\vec w|sin\theta</script><p>两向量作为列向量组合成一个矩阵，叉乘得到两向量平面的法向量（右手定则确定方向），长度等于该矩阵行列式。【一般只考虑3维情况】</p>
<h4 id="叉乘计算方法证明："><a href="#叉乘计算方法证明：" class="headerlink" title="叉乘计算方法证明："></a>叉乘计算方法证明：</h4><p>三维空间下，将任意向量x投影到法向量直线上，长度再与v和w夹成的平行四边形面积相乘，等于矩阵$[\vec x,\vec v,\vec w]$的行列式，也即这三个向量夹成的平行六面体的体积。只要定义$\vec{v} \times\vec{w}$表示其长度为平行四边形面积，根据空间定向有其正方向的法向量则得到：</p>
<script type="math/tex; mode=display">
设\quad\vec{v} \times\vec{w}=p_1\hat i+p_2\hat j+p_3\hat k\\
det([\vec x,\vec v,\vec w])=(\vec{v} \times\vec{w})\cdot \vec x=p_1x_1+p_2x_2+p_3x_3\\

将x_1,x_2,x_3替换为\hat i,\hat j,\hat k\\
则\quad\vec{v} \times\vec{w}=det(\begin{bmatrix}\hat i&v_1&w_1\\
\hat j&v_2&w_2\\
\hat k&v_3&w_3\\
\end{bmatrix})</script><p>四维下：vw也依然是一个法向量。需要解决非方阵行列式。$det(A_{3\times 4})$</p>
<h2 id="矩阵范数与其他性质"><a href="#矩阵范数与其他性质" class="headerlink" title="矩阵范数与其他性质"></a>矩阵范数与其他性质</h2><h3 id="矩阵范数"><a href="#矩阵范数" class="headerlink" title="矩阵范数"></a>矩阵范数</h3><p>F范数：所有元素平方和的平方根<br>1范数：各列中最大的列元素绝对值之和<br>2范数：$\sqrt \lambda，\lambda $是$A^HA$的最大特征值。（AH是共轭转置矩阵，对每个元素取共轭复数，再转置。A全为实数时AH等于A的转置。）<br>无穷范数：各行中最大的行元素绝对值之和</p>
<p>导出范数：（如谱范数）<br><img src="image-20210617143201449.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210617143201449"></p>
<h3 id="特征值"><a href="#特征值" class="headerlink" title="特征值"></a>特征值</h3><script type="math/tex; mode=display">
\begin{aligned}
A\vec v&=\lambda\vec v\\
A\vec v&=\lambda I\vec v\\
(A- \lambda I)\vec v&=0\\

\end{aligned}</script><p>该线性方程组要有非零解则需</p>
<script type="math/tex; mode=display">
det(A- \lambda I)=0</script><p>按定义展开行列式则得到矩阵A的特征多项式，多项式的根则为特征值（若根为虚数，则一般对应旋转变换，行列式不为0）</p>
<p>特征向量矩阵P</p>
<script type="math/tex; mode=display">
\Lambda=P^{-1}AP</script><h3 id="实对称矩阵"><a href="#实对称矩阵" class="headerlink" title="实对称矩阵"></a>实对称矩阵</h3><p>实对称矩阵特征值全是实数；反对称矩阵特征值为0或纯虚数。</p>
<p>实对称矩阵A可以被特征分解为</p>
<script type="math/tex; mode=display">
A=Q^{-1}\Lambda Q</script><p>所以A相当于对原本空间只在正交的特征向量方向上缩放而不旋转空间。</p>
<h3 id="正交矩阵"><a href="#正交矩阵" class="headerlink" title="正交矩阵"></a>正交矩阵</h3><p>$Q^T=Q^{-1}$，它的转置矩阵等于它的逆矩阵。该方阵的列向量都是标准正交(orthonormal)向量。</p>
<h3 id="正交投影"><a href="#正交投影" class="headerlink" title="正交投影"></a>正交投影</h3><p>子空间与其正交补空间可以张成全空间。</p>
<p>正交分解</p>
<p>正交投影算子P，能使所有Px与x-Px正交</p>
<h2 id="二次型"><a href="#二次型" class="headerlink" title="二次型"></a>二次型</h2><script type="math/tex; mode=display">
f(x) = x^\top Q x\\
一般令Q为对称矩阵</script><p>正定二次型/半正定/负定</p>
<p>Q是否为正定矩阵的判定方法：</p>
<ul>
<li><p>Q行列式小于等于0，则不可能正定</p>
</li>
<li><p>特征值均为正</p>
</li>
<li><p>【正定的充要条件】西尔维斯特准则（只能判断是否正定，半正定无法判断。）：<br>矩阵的各阶顺序主子式都大于0</p>
<blockquote>
<p>i阶主子式：选定1到n的i个整数作为下标，从原始行列式取都属于这i行与这i列的元素（行列交汇处元素），组成新的i阶行列式。</p>
<p>各阶顺序主子式：沿原矩阵对角线从左向右扩大的阶数从1到n的主子式。</p>
</blockquote>
</li>
</ul>
<h2 id="瑞利不等式"><a href="#瑞利不等式" class="headerlink" title="瑞利不等式"></a>瑞利不等式</h2><p><img src="image-20210617152537264.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210617152537264"></p>
<h1 id="解析几何"><a href="#解析几何" class="headerlink" title="解析几何"></a>解析几何</h1><h2 id="R-N-线段"><a href="#R-N-线段" class="headerlink" title="$R^N$线段"></a>$R^N$线段</h2><p>x,y两向量（可以看做两个点）</p>
<script type="math/tex; mode=display">
\{\alpha \textbf x +(1-\alpha)\textbf y \}</script><p><strong>凸组合</strong>=&gt;线段 ：$\alpha \in [0,1]$</p>
<p>线性组合=&gt;直线</p>
<h2 id="超平面"><a href="#超平面" class="headerlink" title="超平面"></a>超平面</h2><p>相当于n维空间中找一个法向量u,令<u,x>=v的所有向量x集合就是一个超平面。</p>
<h2 id="线性簇"><a href="#线性簇" class="headerlink" title="线性簇"></a>线性簇</h2><p>满足Ax=b的x集合</p>
<p>b=0则线性簇是A的零空间，过零点，所以是R^n的子空间；<br>b不为0，则线性簇是一个流形。</p>
<blockquote>
<p>可能指线性流形Linear Manifold。为n维空间中任意小于等于n-1维的空间，可平移。可以理解为有限个超平面的交集。</p>
</blockquote>
<h2 id="凸集"><a href="#凸集" class="headerlink" title="凸集"></a>凸集</h2><p>任意两点连成的线段上的所有点在该集合中。<br>若不存在u,v两不同于x的点，令uv线段上有x点，则x为凸集的极点。=（极点无法表达为凸集内点的凸组合。）</p>
<p>开集：集合所有点都是内点，即集合中各点邻域内的所有点都在集合中。<br>闭集：全部边界点都在集合中。（边界点：邻域内有集合中的点，也有集合外的点。）<br>有界集：能被有限半径的球体包围的集合。<br>紧集：有界集且为闭集。</p>
<p>极值原理（魏尔斯特拉斯定理）：<strong>紧集上一定能取到极小值</strong>。</p>
<h2 id="多面体"><a href="#多面体" class="headerlink" title="多面体"></a>多面体</h2><p>多面体是有限个半空间的交集。<br>半空间是凸集，因为<strong>有限个凸集的交集是凸集</strong>，所以多面体是凸集。</p>
<p>多胞体是非空有界多面体。</p>
<h2 id="支撑超平面"><a href="#支撑超平面" class="headerlink" title="支撑超平面"></a>支撑超平面</h2><p>过边界点，且凸集完全在其一个半空间内。<br>一个凸集可被多个支撑超平面包围。</p>
<h2 id="多面体-1"><a href="#多面体-1" class="headerlink" title="多面体"></a>多面体</h2><p>这种集合可以表示为有限个半空间的交集。</p>
<p>k维多面体的包：唯一包含凸多面体的k维空间（k维线性簇）<br>k维多面体的边界：有限个k-1维多面体。</p>
<p>k维多面体的面：边界中的任何一个k-1维多面体，以及组成该k-1维多面体的k-2维多面体，以及组成k-2维多面体的……<br>每个k维多面体都具有维数为k-1、k-2、…、1、0的多个面。</p>
<p>一个多面体的零维面称为顶点，一维面称为棱。</p>
<h2 id="凸函数"><a href="#凸函数" class="headerlink" title="凸函数"></a>凸函数</h2><p>函数曲线上方所有点形成一个凸集。</p>
<p>凸函数定义域上任意两点x1、x2，总有</p>
<script type="math/tex; mode=display">
f(\frac{x1+x2}{2})\le \frac {f(x1)+f(x2)} 2</script><h1 id="微积分"><a href="#微积分" class="headerlink" title="微积分"></a>微积分</h1><h2 id="雅可比矩阵（导数）"><a href="#雅可比矩阵（导数）" class="headerlink" title="雅可比矩阵（导数）"></a>雅可比矩阵（导数）</h2><p>第i行第j列是f_i对x_j的偏导。函数值为标量则雅可比矩阵是行向量。</p>
<h2 id="梯度"><a href="#梯度" class="headerlink" title="梯度"></a>梯度</h2><p>雅可比矩阵的转置得到梯度。</p>
<p>梯度是函数具有最大变化率的方向。</p>
<h2 id="方向导数"><a href="#方向导数" class="headerlink" title="方向导数"></a>方向导数</h2><p>梯度与指向某方向的单位向量的内积。</p>
<h2 id="黑塞矩阵"><a href="#黑塞矩阵" class="headerlink" title="黑塞矩阵"></a>黑塞矩阵</h2><p>要求<strong>函数值必须是一维向量</strong>（标量），否则这里应是三阶张量而非矩阵。</p>
<p>对雅可比矩阵在另一维展开，第i行第j列是f先对x_i求偏导再对x_j求偏导的二阶导数。</p>
<p><strong>若标量函数二次连续可微，则黑塞矩阵对称。</strong></p>
<h2 id="链式法则"><a href="#链式法则" class="headerlink" title="链式法则"></a>链式法则</h2><p>可以先用偏导方法确定好雅可比矩阵的维度匹配，再计算。<a target="_blank" rel="noopener" href="https://www.cnblogs.com/yifanrensheng/p/12639539.html">参考</a></p>
<p>比如当z为标量，x,y为m,n维列向量时，若x-&gt;y-&gt;z，则</p>
<script type="math/tex; mode=display">
\frac {\partial z}{\partial \textbf x}= (\frac {\partial y}{\partial \textbf x})^\top \frac {\partial z}{\partial \textbf y}</script><p><img src="image-20210620132314622.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210620132314622"></p>
<h2 id="求导公式"><a href="#求导公式" class="headerlink" title="求导公式"></a>求导公式</h2><p><img src="image-20210402144741983.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210402144741983"></p>
<h2 id="局部极小点-条件"><a href="#局部极小点-条件" class="headerlink" title="局部极小点-条件"></a>局部极小点-条件</h2><h3 id="一阶必要条件"><a href="#一阶必要条件" class="headerlink" title="一阶必要条件"></a>一阶必要条件</h3><p>（内点）驻点 梯度为0</p>
<p>（边界点）任意可行方向与梯度内积大于等于0</p>
<h3 id="二阶必要条件"><a href="#二阶必要条件" class="headerlink" title="二阶必要条件"></a>二阶必要条件</h3><p>（内点）黑塞矩阵半正定</p>
<p>（边界点）任意可行方向d满足$d^\top \textbf F(X^*)d \ge 0$</p>
<p><em>单变量函数x^3的点x=0处满足一阶、二阶必要条件，但依旧不是极值点。</em></p>
<h3 id="二阶充分条件"><a href="#二阶充分条件" class="headerlink" title="二阶充分条件"></a>二阶充分条件</h3><p>（内点）梯度为0，<strong>黑塞矩阵正定</strong>，则该点为严格局部极小点</p>
<h1 id="矩阵收敛"><a href="#矩阵收敛" class="headerlink" title="矩阵收敛"></a>矩阵收敛</h1><p>意义：对迭代是否收敛的判断</p>
<p>矩阵收敛$\Leftrightarrow$矩阵所有特征值的绝对值都小于1（谱半径&lt;1）</p>
<p>矩阵的幂级数收敛$\Leftrightarrow$矩阵收敛于零矩阵</p>
<p>矩阵值函数连续性：矩阵值函数在某点处所得矩阵可逆，则在该点处连续。</p>
<h1 id="一维搜索"><a href="#一维搜索" class="headerlink" title="一维搜索"></a>一维搜索</h1><p>一元单值函数（$\mathbb{R}\rightarrow\mathbb {R}$)的迭代寻找最值。要求该函数在区间上是<strong>单峰函数</strong>。</p>
<h2 id="黄金分割法"><a href="#黄金分割法" class="headerlink" title="黄金分割法"></a>黄金分割法</h2><p>计算两个分割点的函数值大小，两个分割点形成三个区间，极小值在<strong>函数值较小的点的左右两区间</strong>范围内。</p>
<p>黄金分割比的特性令上一次的较小分割点依然是下一次迭代中的一个分割点，减少计算量。</p>
<blockquote>
<p>e.g.<br>[0,1]区间内设定两个左右分割点$\lambda,\mu$满足</p>
<script type="math/tex; mode=display">
\begin{cases}
\lambda = 1-\mu \\
\frac \mu 1 = \frac \lambda \mu
\end{cases}
\Rightarrow
\begin{cases}
\lambda = \frac {3-\sqrt 5}2 \approx 0.382 \\
\mu = \frac {\sqrt 5 -1}2 \approx 0.618
\end{cases}</script><p>意思是缩小到$[0,\mu]$区间后，只需要再加一个左分割点，原本的$\lambda$成为新区间的右分割点。</p>
</blockquote>
<p>总压缩比：0.618^N</p>
<blockquote>
<p>压缩比例：最左/最右区间长度 除以 三个区间总长度。</p>
<p>因为每次迭代都是只是抛弃最左或最右的一个区间。</p>
</blockquote>
<h2 id="斐波那契数列法"><a href="#斐波那契数列法" class="headerlink" title="斐波那契数列法"></a>斐波那契数列法</h2><p>动态改变压缩比例，达到效果最优（最后一次迭代的压缩比是$\frac{1}{2}-\epsilon$）<br>总压缩比为$\frac{1+2\epsilon}{F_{N+1}}$(F1=1,F2=2,……)</p>
<p>且这个动态的压缩比序列依然满足上一次迭代的较小分割点是下一次迭代的分割点的条件，也就是说计算量没有增加。</p>
<h2 id="二分法"><a href="#二分法" class="headerlink" title="二分法"></a>二分法</h2><p>利用连续可导单峰函数的<strong>一阶导数</strong>信息。每次找区间中点，根据导数正负选择缩小为左区间或右区间，导数为0则找到极值点。</p>
<p>总压缩比：0.5^N</p>
<h2 id="牛顿法"><a href="#牛顿法" class="headerlink" title="牛顿法"></a>牛顿法</h2><p>利用一阶二阶导数信息。将f(x)在x(k)点二阶泰勒展开得到二次多项式q(x)用来近似f(x)，取q’(x)=0则有牛顿法公式：</p>
<script type="math/tex; mode=display">
x^{(k+1)}=x^{(k)}-\frac{f'(x^{(k)})}{f''(x^{(k)})}</script><blockquote>
<p>若f’’(x)&gt;0对于区间恒成立则牛顿法正常收敛到极小点；<br>若某些点处f’’(x)&lt;0则牛顿法可能收敛到极大点</p>
</blockquote>
<h3 id="牛顿切线法"><a href="#牛顿切线法" class="headerlink" title="牛顿切线法"></a>牛顿切线法</h3><p>令f’(x)=g(x),f’’(x)=g’(x)可以用牛顿法来求解方程g(x)=0</p>
<p>几何直观：就是在每个迭代点找到函数图像的切线，切线与x轴的交点作为下一个迭代点。</p>
<blockquote>
<p>如果起始点迭代变化值g(x0)/g’(x0)不是足够小，可能不收敛。</p>
</blockquote>
<h2 id="割线法"><a href="#割线法" class="headerlink" title="割线法"></a>割线法</h2><p>牛顿法的二次导数可用近似来代替。</p>
<script type="math/tex; mode=display">
f''(x^{(k)})\approx\frac{f'(x^{(k)})-f'(x^{(k-1)})}{x^{(k)}-x^{(k-1)}}\\
割线法需要两个起始点x^{(-1)}和x^{(0)}\\
x^{(k+1)}=\frac{f'(x^{(k)})x^{(k-1)}-f'(x^{(k-1)})x^{(k)}}{f'(x^{(k)})-f'(x^{(k-1)})}</script><h2 id="插值类方法"><a href="#插值类方法" class="headerlink" title="插值类方法"></a>插值类方法</h2><p>搜索区间用低次（不超过三次）多项式插值近似目标函数。上一个点处插值多项式的驻点，就是下一个迭代点。</p>
<ul>
<li>牛顿法：一点二次插值（用该点的一阶导、二阶导来求多项式）</li>
<li>割线法：两点二次插值（用两个点的一阶导来求多项式）</li>
</ul>
<h2 id="划界法"><a href="#划界法" class="headerlink" title="划界法"></a>划界法</h2><p>寻找单峰函数极小点所在区间[a,b]的步骤：</p>
<ol>
<li>任选三点x0&lt;x1&lt;x2</li>
<li>若f(x1)&lt;f(x0)且f(x1)&lt;f(x2)，那么区间为[x0,x2]</li>
<li>若f(x0),f(x1),f(x2)递减，则选择一个点x3&gt;x2，计算f(x3)<ol>
<li>若f(x3)&gt;f(x2)，区间为[x1,x3]</li>
<li>否则继续向右找x3，使得f(x3)&gt;f(x2)</li>
</ol>
</li>
</ol>
<blockquote>
<p>核心思想就是找到三个点，两边高中间低；如果一边倒，就在最小点的另一边继续找能大于这个最小值的点</p>
</blockquote>
<h1 id="步长选取（第7章附-PPT）"><a href="#步长选取（第7章附-PPT）" class="headerlink" title="步长选取（第7章附-PPT）"></a>步长选取（第7章附-PPT）</h1><p>Armijo准则：该条直线之上的点不能选，比如离原点远的，防止步长过大。<br><img src="image-20210622100047166.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210622100047166"></p>
<p>Goldstein准则：基于Armijo再加一条直线，该条直线之下的点不能选，比如离原点近的，防止步长过小。<br><img src="image-20210622100100902.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210622100100902"></p>
<p>Wolfe准则：除了Armijo准则之外，还要求下一个迭代点处的斜率比较平缓——比xk点的切线斜率（小于0）的c2倍还大。这样它的区间大于Armijo-Goldstein准则，将迭代点邻域的极小值也包括了进去。<br><img src="image-20210622100122542.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210622100122542"></p>
<h1 id="无约束优化方法"><a href="#无约束优化方法" class="headerlink" title="无约束优化方法"></a>无约束优化方法</h1><p>多维函数优化问题的迭代公式</p>
<script type="math/tex; mode=display">
\textbf x^{(k+1)} = \textbf x^{(k)} + \alpha_k \textbf d^{(k)}</script><p>不同方法决定了不同的搜索方向；<br>对应的最优步长$\alpha_k$经常使用一维搜索来寻找。（参看步长选取）</p>
<p><img src="image-20210621145917491.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210621145917491"></p>
<h2 id="最速下降法！"><a href="#最速下降法！" class="headerlink" title="最速下降法！"></a>最速下降法！</h2><blockquote>
<p>用临近点逼近来近似目标函数f(x)，该多项式满足一阶必要条件则得到梯度方向迭代公式</p>
</blockquote>
<p>每次沿负梯度方向一维搜索寻找最优步长，使得下一个迭代点的梯度方向与上一个梯度方向正交。</p>
<p>最速梯度下降法单调下降且对于任意初始点一定收敛。</p>
<p>用其求解二次型</p>
<script type="math/tex; mode=display">
min\quad f(x)= \frac {1}{2}x^\top Qx-b^\top x</script><p>二次型问题最优步长计算公式：</p>
<script type="math/tex; mode=display">
\alpha_k =\frac{g^{k\top}g^{k}}{g^{k\top}Qg^{k}}\\
梯度g^k=Qx-b</script><p>若Q所有特征值相等，一步得到极值点（等值线是圆，各点梯度均直接指向极值点）；若不等，则只能无限步迭代尝试逼近。<br>最速下降法求解二次型的<strong>收敛率</strong>（下一个迭代点函数值与上一个迭代点函数值之比小于等于收敛率）：</p>
<script type="math/tex; mode=display">
\frac{\lambda _{max}(\mathbf Q)-\lambda _{min}(\mathbf Q)}{\lambda _{max}(\mathbf Q)}</script><blockquote>
<p>注意与收敛阶的区分，收敛阶是迭代点</p>
</blockquote>
<p>定理8.3 P101：<strong>固定步长梯度法</strong>迭代收敛，当且仅当</p>
<script type="math/tex; mode=display">
0<\alpha<\frac 2 {\lambda_{max}(Q)}</script><h2 id="收敛阶"><a href="#收敛阶" class="headerlink" title="收敛阶"></a>收敛阶</h2><p><img src="image-20210623205907085.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210623205907085"></p>
<h2 id="牛顿法！"><a href="#牛顿法！" class="headerlink" title="牛顿法！"></a>牛顿法！</h2><p>用二阶泰勒展开来近似目标函数f(x)，根据一阶必要条件可得迭代公式</p>
<script type="math/tex; mode=display">
x^{(k+1)}=x^{(k)}-\textbf F(x^{(k)})^{-1}g^{(k)}</script><p>牛顿法步骤</p>
<ol>
<li>先解方程求迭代方向</li>
</ol>
<script type="math/tex; mode=display">
\textbf F(x^{(k)})d^{(k)}=-g^{(k)}=-\nabla f(x^{(k)})</script><ol>
<li>然后</li>
</ol>
<script type="math/tex; mode=display">
x^{(k+1)}=x^{(k)}+d^{(k)}</script><ul>
<li>黑塞矩阵非正定时搜索方向不一定是函数值下降方向</li>
<li>就算正定，某些初始点远离极小点时也可能不下降</li>
</ul>
<h3 id="牛顿法求解非线性最小二乘问题"><a href="#牛顿法求解非线性最小二乘问题" class="headerlink" title="牛顿法求解非线性最小二乘问题"></a>牛顿法求解非线性最小二乘问题</h3><p><img src="image-20210623112458358.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210623112458358"></p>
<p><img src="image-20210623112545881.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210623112545881"><img src="image-20210623112606088.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210623112606088"></p>
<h3 id="牛顿法收敛性"><a href="#牛顿法收敛性" class="headerlink" title="牛顿法收敛性"></a>牛顿法收敛性</h3><p>牛顿法任意初始点求解二次型，<strong>收敛阶</strong>为无穷大</p>
<p><img src="image-20210622152551045.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210622152551045"></p>
<p>初始点靠近极值点时，牛顿法有非常好的收敛性；否则不一定收敛。</p>
<h3 id="修正："><a href="#修正：" class="headerlink" title="修正："></a>修正：</h3><ul>
<li>阻尼/带步长牛顿法（每次都在方向上进行一次一维搜索来确定步长</li>
<li>Levenberg-Marquardt 修正（只要参数足够大，总能保持正定矩阵</li>
</ul>
<blockquote>
<p>最速下降法、牛顿法用于求解无约束优化问题。</p>
</blockquote>
<h2 id="拟牛顿法"><a href="#拟牛顿法" class="headerlink" title="拟牛顿法"></a>拟牛顿法</h2><p>在拟牛顿法中构造黑塞矩阵的近似矩阵H时，只需要用到目标函数值和梯度，不涉及任何黑塞矩阵和线性方程求解的计算工作。</p>
<p><em>以下各种近似，我们都假定目标函数为二次型函数，使得黑塞矩阵为常数矩阵Q，与x的取值无关。</em></p>
<p>因为二次型的黑塞矩阵Q对于任意k满足</p>
<script type="math/tex; mode=display">
\Delta g^{(k)} = Q \Delta x^{(k)}</script><p>我们希望第n次迭代中的近似矩阵Hn能够满足</p>
<script type="math/tex; mode=display">
\textbf H_n \Delta g^{(k)} =\Delta x^{(k)}\quad (0 \le k \le n-1)</script><p>这样就可以用近似矩阵（并不唯一）替换牛顿法迭代公式里的黑塞矩阵的逆。<strong>能在n次迭代内完成n维二次型问题的求解。</strong><br><img src="image-20210623115237869.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210623115237869"></p>
<h3 id="秩1算法"><a href="#秩1算法" class="headerlink" title="秩1算法"></a>秩1算法</h3><p>秩1矫正公式中，Hk到Hk+1迭代方向是秩1矩阵</p>
<script type="math/tex; mode=display">
H_{k+1} = H_k + a_{k}z^{(k)}z^{(k)\top}</script><p>H0可以取为单位阵I，那么d0也是负梯度方向<br>拟牛顿法也是一种共轭方向法，所以$\alpha_k$计算公式依然为</p>
<script type="math/tex; mode=display">
\alpha_k=-\frac{(g^k)^\top d^k}{(d^k)^\top Qd^k}</script><p><img src="image-20210520141649994.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210520141649994"></p>
<p>秩1算法缺点：</p>
<ul>
<li>首先，该算法产生的矩阵 Hk+1 并不一定是正定的，导致d(k+l) 可能不是下降方向。即使对于二次型问题这种情况也有可能发生。<br>（秩2算法DFP可以避免这个问题）</li>
<li>如果迭代项分母接近于0，在计算 Hk+1 时可能会面临一些计算上的困难。</li>
</ul>
<h3 id="DFP算法"><a href="#DFP算法" class="headerlink" title="DFP算法"></a>DFP算法</h3><p>只要Hk正定，Hk+1正定。</p>
<p>也是共轭方向法</p>
<p>缺点：当处理一些规模较大的非二次型问题时， DFP 有时会被”卡住”，即迭代无法继续开展。造成这一现象的原因在于矩阵 Hk接近成为奇异矩阵了。</p>
<h3 id="BFGS算法"><a href="#BFGS算法" class="headerlink" title="BFGS算法"></a>BFGS算法</h3><p>类似DFP公式，但去近似黑塞矩阵本身。<br>最后迭代使用近似矩阵Bk+1的逆。</p>
<p>求Bk+1的逆，需要用两次Sherman-Morrison公式。</p>
<h2 id="共轭方向法"><a href="#共轭方向法" class="headerlink" title="共轭方向法"></a>共轭方向法</h2><p>A是实对称正定矩阵</p>
<script type="math/tex; mode=display">
\alpha^\top A\beta=0</script><p>则这两个向量共轭</p>
<blockquote>
<p>核心思想：在空间中每个方向只走一次，所有搜索方向正交</p>
<p>拟牛顿法也是一种共轭方向法（书p135定理11.1）</p>
</blockquote>
<p>共轭方向法算法最耗时的是找二次型矩阵Q的所有共轭向量，复杂度O(n^3)<br>题目一般会给定一组Q共轭方向。<br>二次型目标函数有显式的精确步长</p>
<script type="math/tex; mode=display">
\alpha_k=-\frac{(g^k)^\top d^k}{(d^k)^\top Qd^k}</script><p>任意初始点，基本的共轭方向算法都能在n次迭代之内收敛到唯一的全局极小点，因为只要步长（共轭向量的线性系数）正确，初始点+n个共轭向量能表示处在空间内任何位置的全局极小点。【书上p121有证明，最后公式Q(x*-xk)=-gk利用了二次型一阶导数性质】</p>
<p>共轭方向算法都有性质:</p>
<script type="math/tex; mode=display">
g^{(k+1)\top}d^{(i)}=0\qquad(i\le k)</script><p>每个新迭代点梯度一定正交于之前所有共轭方向所在子空间</p>
<h2 id="共轭梯度法！"><a href="#共轭梯度法！" class="headerlink" title="共轭梯度法！"></a>共轭梯度法！</h2><p>不需要先用施密特方法找所有共轭方向，可以用-g(k+1)和d(k)迭代计算xk+1点处搜索方向（也就是下一个共轭方向d(k+1)）</p>
<p><img src="image-20210519102120451.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210519102120451"></p>
<p>$\alpha_k$是x点迭代步长，$\beta_k$是共轭方向迭代步长。两者迭代公式推导过程：</p>
<ol>
<li>每个共轭方向上行动步长$\alpha_k$到一维搜索得到的极小点，有性质(书P123)。行动步长$\alpha_k$和最速下降法一致，dk换成gk。</li>
</ol>
<script type="math/tex; mode=display">
g^{(k+1)\top}d^{(k)}=0\\
所以需要
\alpha_k = -\frac{g^{(k)\top}d^{(k)}}{d^{(k)\top}Qd^{(k)}}</script><ol>
<li>将共轭定义带入迭代公式</li>
</ol>
<script type="math/tex; mode=display">
\begin{cases}
d^{(k+1)\top}Qd^{(k)} = 0\\
d^{(k+1)} = -g^{(k+1)}+\beta_kd^{(k)}
\end{cases}\\
所以得到\beta_k = \frac{g^{(k+1)\top}Qd^{(k)}}{d^{(k)\top}Qd^{(k)}}</script><h1 id="线性规划"><a href="#线性规划" class="headerlink" title="线性规划"></a>线性规划</h1><h2 id="标准型"><a href="#标准型" class="headerlink" title="标准型"></a>标准型</h2><script type="math/tex; mode=display">
\begin{array}l
min\quad &\mathbf {c^\top x}\\
s.t. \quad &\bf Ax=b\\
&x\ge 0
\end{array}</script><blockquote>
<p>书P220说明如何把不等式约束转换成等式</p>
<p>不等式蕴含几个线性无关基之间的约束关系，引入剩余变量/松弛变量xi（其实也是这几个线性无关基的线性组合）来量化这种约束要求，也就是对原本的x1向量<strong>升维</strong>；不等式本质是一个半空间，将这个半空间的限制放到增加的那一维的xi&gt;=0里</p>
</blockquote>
<h2 id="基本解"><a href="#基本解" class="headerlink" title="基本解"></a>基本解</h2><p>[A,b]通过初等行变换，得到不同的列单位向量作为基向量。再根据变换后的增广矩阵解方程则得到基本解。<br>基本解只有rank(A)个非0分量。<img src="image-20210624102010484.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210624102010484"></p>
<h2 id="线性规划基本定理"><a href="#线性规划基本定理" class="headerlink" title="线性规划基本定理"></a>线性规划基本定理</h2><ol>
<li>如果存在可行解，那么一定存在基本可行解。</li>
<li>如果存在最优可行解，那么一定存在最优基本可行解。</li>
</ol>
<p>约束集的极点集合就是基本可行解的集合。</p>
<blockquote>
<p>参考<a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/N1jCOtfvLtYinrm0YtWi6Q">文章</a>，我理解<br>一个凸集就是由极点定义的；<br>而一个向量空间本质上是由线性无关基向量定义的。</p>
<p>基本可行解是所有约束条件的线性组合系数，来表示空间。它要求非基向量的系数为0(基本解)，且是基向量非负的线性组合（可行解），就像是依靠最少的线性无关基向量能走到的满足约束空间的尽头？</p>
<p>假设A为m*n维，rank = m &lt;n，我们的所有xb就在这个由m个线性无关基向量定义的m维空间里，这个Rm空间与Rn空间中Ax=b解空间相交，交点在Rn的坐标就是[xb,0]，也就是基本可行解。</p>
<p>基本可行解对应极点，不同基本可行解线性组合得到解空间所有点；直观上与对极点进行凸组合得到凸集内点非常相像。</p>
</blockquote>
<h2 id="单纯形法"><a href="#单纯形法" class="headerlink" title="单纯形法"></a>单纯形法</h2><p>利用增广矩阵规范性的枢轴变换，从一个基本可行解切换到另一个基本可行解，检验该基本可行解是否为最优解。</p>
<h3 id="检验数"><a href="#检验数" class="headerlink" title="检验数"></a>检验数</h3><p>基变量检验数等于0；<br>非基变量检验数$r_q$，用到c第q项，c前m项，非基变量对应那列y</p>
<script type="math/tex; mode=display">
r_q=c_q-z_q \\
z_q = c_1y_{1q}+\cdots+c_my_{mq}</script><p>若该基本可行解所有非基变量检验数大于等于0，则为最优解。<br>否则，选择检验数最小的那个列向量作为进基向量。</p>
<h3 id="枢轴变换"><a href="#枢轴变换" class="headerlink" title="枢轴变换"></a>枢轴变换</h3><p>选择离基向量$\alpha_p$</p>
<script type="math/tex; mode=display">
p = \text{arg min}\{ y_{i0}/y_{iq}:y_{iq}\gt 0\}   \quad(计算中其实y_{i0} = b_i)</script><p>$\alpha_q$进基，$\alpha_p$（第p列的基向量）离基。以(p,q)元素进行枢轴变换</p>
<script type="math/tex; mode=display">
y_{ij}'= y_{ij} - \frac{y_{pj}}{y_{pq}}y_{iq} ,\quad i\ne p,m\lt j \le n\\
y_{pj}'=\frac {y_{pj}} {y_{pq}}</script><h3 id="矩阵形式"><a href="#矩阵形式" class="headerlink" title="矩阵形式"></a>矩阵形式</h3><p>价值系数加在[A,b]下方，初等行变换为关于基B的标准单纯形表。</p>
<script type="math/tex; mode=display">
\begin{bmatrix}
A&b\\
c^\top&0
\end{bmatrix}
\Leftrightarrow
\begin{bmatrix}
I_m&B^{-1}D&B^{-1}b\\
0^\top& c_D^\top-c_B^\top B^{-1}D& -c_B^\top B^{-1}b
\end{bmatrix}</script><p>更新单纯形表的过程中能同时得到关于基B的基变量$B^{-1}b$和非基变量检验数$c_D^\top-c_B^\top B^{-1}D$，以及当前基本可行解下目标函数值取负的结果$-c_B^\top B^{-1}b$</p>
<h3 id="两阶段单纯形法"><a href="#两阶段单纯形法" class="headerlink" title="两阶段单纯形法"></a>两阶段单纯形法</h3><p>用于原问题没有明显的基本可行解的时候。</p>
<blockquote>
<p>定理：原线性规划问题存在基本可行解，当且仅当相应的人工问题存在一个使目标函数值为0的最优解</p>
</blockquote>
<p>在第1阶段，引入人工变量，构造人工目标函数（人工变量的和最小），求其最优解。<br><em>相当于指定用人工的基，有固定的初始基本可行解[0;b]。</em></p>
<p>在第2阶段，将第1阶段得到的最优解作为初始基本可行解，采用单纯形法求解原问题。<br><em>删掉人工列，最后一行改为原问题的价值系数，再变换成标准单纯形表</em></p>
<h1 id="对偶"><a href="#对偶" class="headerlink" title="对偶"></a>对偶</h1><h2 id="对偶线性规划"><a href="#对偶线性规划" class="headerlink" title="对偶线性规划"></a>对偶线性规划</h2><p>任意形式的线性规划问题都存在对偶问题。</p>
<p>对偶问题的对偶是原问题</p>
<h3 id="对称形式的对偶关系"><a href="#对称形式的对偶关系" class="headerlink" title="对称形式的对偶关系"></a>对称形式的对偶关系</h3><p>原问题中约束Ax&gt;=b</p>
<p>对偶问题要求$\lambda\ge 0$，与A点积&lt;=c</p>
<h3 id="非对称形式的对偶关系"><a href="#非对称形式的对偶关系" class="headerlink" title="非对称形式的对偶关系"></a>非对称形式的对偶关系</h3><p>原问题中约束Ax=b，为标准型</p>
<p>对偶问题不要求$\lambda$非负</p>
<p><img src="image-20210625151233484.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210625151233484"></p>
<h2 id="弱对偶定理"><a href="#弱对偶定理" class="headerlink" title="弱对偶定理"></a>弱对偶定理</h2><p>假设$x,\lambda$分别是线性规划的原问题和对偶问题(对称形式或非对称形式)的可行解，则$c^\top x\ge\lambda^\top b$。</p>
<h2 id="强对偶定理"><a href="#强对偶定理" class="headerlink" title="强对偶定理"></a>强对偶定理</h2><p>假设$x,\lambda$分别是线性规划的原问题和对偶问题(对称形式或非对称形式)的可行解，若$c^\top x=\lambda^\top b$，则它们是各自问题的最优解。</p>
<h1 id="整数规划"><a href="#整数规划" class="headerlink" title="整数规划"></a>整数规划</h1><p>若A是幺模矩阵，则Ax=b的所有基本解是整数解。</p>
<p>单纯形法，只要基本可行解对应基矩阵B满足det(B)=1，即为整数解</p>
<h2 id="割平面法"><a href="#割平面法" class="headerlink" title="割平面法"></a>割平面法</h2><p>通过增加约束条件，把由单纯形法得到的非整数解从可行集中去除掉。新增的约束条件不去除可行集中的整数解。该方法通过不断增加约束条件，直到得到一个整数最优解。</p>
<h2 id="分支定界法"><a href="#分支定界法" class="headerlink" title="分支定界法"></a>分支定界法</h2><p>整数规划松弛为普通的线性规划标准型，若最优解有分量不是整数，则分成两个整数规划。</p>
<h1 id="等式约束优化"><a href="#等式约束优化" class="headerlink" title="等式约束优化"></a>等式约束优化</h1><h2 id="概念铺垫"><a href="#概念铺垫" class="headerlink" title="概念铺垫"></a>概念铺垫</h2><h3 id="正则点"><a href="#正则点" class="headerlink" title="正则点"></a>正则点</h3><p>该点满足所有约束函数等于0，且所有约束函数的梯度都线性无关</p>
<h3 id="维度"><a href="#维度" class="headerlink" title="维度"></a>维度</h3><p>曲面维度n-m，n是空间维度，m是约束方程组的秩</p>
<h3 id="切空间、法空间"><a href="#切空间、法空间" class="headerlink" title="切空间、法空间"></a>切空间、法空间</h3><p>切空间过原点</p>
<script type="math/tex; mode=display">
T(\mathbf x^*) = \{\mathbf y:D\mathbf {h(x^*)y} = 0\}</script><p>切平面过x*</p>
<script type="math/tex; mode=display">
TP(\mathbf x^*)  = T(\mathbf x^*)+x^*= \{\mathbf {x+x^*:x}\in T(\mathbf x^*)\}</script><p>法线空间就是约束函数梯度张成子空间，过原点</p>
<script type="math/tex; mode=display">
N(\mathbf x^*) = \mathcal R(D\mathbf {h(x^*)^\top})</script><p>法平面过x*</p>
<script type="math/tex; mode=display">
NP(\mathbf x^*)  = N(\mathbf x^*)+x^*</script><h2 id="拉格朗日条件"><a href="#拉格朗日条件" class="headerlink" title="拉格朗日条件"></a>拉格朗日条件</h2><p>优化问题</p>
<script type="math/tex; mode=display">
\text{min}\quad f(x)\\ s.t.\quad h(x)=0</script><p>因为x*也是约束路径（h(x)=0的等值线）上的极小点，所以该处目标函数梯度与约束路径（满足约束函数为0）的参数方程一阶导正交；<br>又因为该点约束函数h(x)梯度与该约束路径参数方程一阶导（等值线该点处切线）正交；所以得到这两个梯度一定平行，线性相关。</p>
<blockquote>
<p>可以理解为：极小点处的目标函数梯度是多个约束函数梯度的线性组合。</p>
</blockquote>
<p>得到拉格朗日定理：<br>上述优化问题的局部极小点$x^<em>$若为**</em>正则点<em>**，必存在拉格朗日乘子向量$\lambda^</em>$使得</p>
<script type="math/tex; mode=display">
Df(\textbf x^*)+\lambda^{*\top }Dh(\textbf x^*)=0^\top</script><p>其实这个拉格朗日条件只是极小点一阶必要条件。</p>
<h2 id="二阶必要条件-1"><a href="#二阶必要条件-1" class="headerlink" title="二阶必要条件"></a>二阶必要条件</h2><ol>
<li><p>满足拉格朗日条件</p>
</li>
<li><p>x*切空间内任意点y，有</p>
<script type="math/tex; mode=display">
y^\top \textbf L(x^*,\lambda^*)y\ge0</script></li>
</ol>
<h2 id="二阶充分条件-1"><a href="#二阶充分条件-1" class="headerlink" title="二阶充分条件"></a>二阶充分条件</h2><ol>
<li><p>满足拉格朗日条件</p>
</li>
<li><p>x*切空间内任意不为0的点y，有</p>
<script type="math/tex; mode=display">
y^\top \textbf L(x^*,\lambda^*)y\gt0</script></li>
</ol>
<p>则x*为严格局部极小点</p>
<h2 id="线性约束二次型极小化"><a href="#线性约束二次型极小化" class="headerlink" title="线性约束二次型极小化"></a>线性约束二次型极小化</h2><p><img src="image-20210625214639143.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210625214639143"></p>
<h1 id="不等式约束优化"><a href="#不等式约束优化" class="headerlink" title="不等式约束优化"></a>不等式约束优化</h1><p>约束条件里的不等式分为【积极/起作用约束、非积极/不起作用约束】</p>
<h2 id="KKT条件-重要！"><a href="#KKT条件-重要！" class="headerlink" title="KKT条件[重要！]"></a>KKT条件[重要！]</h2><p>对于最小化问题</p>
<script type="math/tex; mode=display">
\begin{array}
\text{min}\quad &f(x)\\
s.t.\quad&\textbf h(\textbf x)=\textbf 0\\
&\textbf g(\textbf x)\le \textbf 0\\
\end{array}</script><p>若x<em>是<em>*正则点</em></em>和局部极小点，存在以下性质</p>
<ol>
<li><p>原始可行性（满足所有约束）</p>
<script type="math/tex; mode=display">
\textbf h(\textbf x^*)=\textbf 0\\
\textbf g(\textbf x^*)\le \textbf 0\\</script></li>
<li><p>对偶可行性（不等式约束的KKT乘子非负）</p>
<script type="math/tex; mode=display">
\bf{\mu^*}\ge \textbf 0\\</script></li>
<li><p>原始最优性（拉格朗日函数对x求导等于0）</p>
<script type="math/tex; mode=display">
Df(\textbf x^*)+\lambda^{*\top }D\textbf h(\textbf x^*)+\mu^{*\top }D\textbf g(\textbf x^*)=\bf 0^\top</script></li>
<li><p>互补松弛性（非积极约束处乘子必为0）</p>
<script type="math/tex; mode=display">
\mu^{*\top }\textbf g(\textbf x^*)=\bf 0</script></li>
</ol>
<p>解KKT条件时，可以按照KKT乘子大于0（积极约束），等于0（非积极约束）进行分情况讨论。</p>
<p>KKT条件也只是一阶必要条件，是拉格朗日条件在不等式约束情况下的拓展。</p>
<h2 id="二阶必要条件-2"><a href="#二阶必要条件-2" class="headerlink" title="二阶必要条件"></a>二阶必要条件</h2><ol>
<li><p>满足KKT条件</p>
</li>
<li><p>x*切空间（应该正交于所有此处等式约束h(x)和起作用约束gi(x)的梯度）内任意点y，有</p>
<script type="math/tex; mode=display">
y^\top \textbf L(x^*,\lambda^*,\mu^*)y\ge0</script></li>
</ol>
<h2 id="二阶充分条件-2"><a href="#二阶充分条件-2" class="headerlink" title="二阶充分条件"></a>二阶充分条件</h2><ol>
<li><p>满足KKT条件</p>
</li>
<li><p>$\widetilde T(x^<em>,\mu^</em>)$内任意不为0的点y，有</p>
<script type="math/tex; mode=display">
y^\top \textbf L(x^*,\lambda^*,\mu^*)y\gt0</script><p>该空间正交于等式约束的梯度和所有积极且起作用约束（mu&gt;0，意思是这个约束真的有限制作用）的梯度<br><img src="image-20210626141924234.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210626141924234"></p>
</li>
</ol>
<p>则x*为严格局部极小点</p>
<h1 id="凸函数与凸优化"><a href="#凸函数与凸优化" class="headerlink" title="凸函数与凸优化"></a>凸函数与凸优化</h1><p>凸函数的“凸”来源于定义，该函数图形上方点集为凸集。</p>
<p>凸函数定义域必是凸集。</p>
<p>凸函数当且仅当定义域内任意两点x,y满足</p>
<script type="math/tex; mode=display">
f(\alpha x +(1-\alpha)y)\le\alpha f(x) +(1-\alpha)f(y)  \qquad \forall \alpha \in (0,1)</script><p>严格凸函数——不等式严格小于</p>
<p>强凸函数——不等式右侧加入二次项</p>
<p><img src="image-20210626163618322.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210626163618322"></p>
<p>凸集上凸函数的全局最小点=局部极小点</p>
<p><img src="image-20210626163548768.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210626163548768"></p>
<h2 id="性质"><a href="#性质" class="headerlink" title="性质"></a>性质</h2><p>凸集上的凸函数，拉格朗日条件就是全局极小点的充分条件。</p>
<h1 id="约束优化迭代求解"><a href="#约束优化迭代求解" class="headerlink" title="约束优化迭代求解"></a>约束优化迭代求解</h1><h2 id="投影方法"><a href="#投影方法" class="headerlink" title="投影方法"></a>投影方法</h2><h2 id="拉格朗日法"><a href="#拉格朗日法" class="headerlink" title="拉格朗日法"></a>拉格朗日法</h2><h3 id="等式约束"><a href="#等式约束" class="headerlink" title="等式约束"></a>等式约束</h3><p>迭代中：</p>
<ul>
<li>用L函数梯度更新x_k（梯度算法求拉格朗日函数关于x的极小化）</li>
<li>用h函数更新lambda_k（梯度算法求拉格朗日函数关于lambda的极大化）</li>
</ul>
<h3 id="不等式约束"><a href="#不等式约束" class="headerlink" title="不等式约束"></a>不等式约束</h3><p><img src="image-20210626170319903.png" srcset="/blogsite/img/loading.gif" lazyload alt="image-20210626170319903"></p>
<p>迭代中：</p>
<ul>
<li>用L函数梯度更新x_k（梯度算法求拉格朗日函数关于x的极小化）</li>
<li>用g函数更新mu_k并保证非负（梯度算法求拉格朗日函数关于mu的极大化）</li>
</ul>
<h2 id="罚函数法"><a href="#罚函数法" class="headerlink" title="罚函数法"></a>罚函数法</h2><p>核心思想：约束条件变成惩罚项放入目标函数，约束优化转化成无约束优化问题。</p>
<h1 id="多目标优化"><a href="#多目标优化" class="headerlink" title="多目标优化"></a>多目标优化</h1><p>了解即可</p>
<h2 id="帕累托解"><a href="#帕累托解" class="headerlink" title="帕累托解"></a>帕累托解</h2><p>帕累托解意味着不存在一个可行的决策变量x能够使得在某些目标函数减少的同时不会导致至少一个其他目标函数增加。</p>
<p>帕累托前沿生成算法</p>
<h2 id="考虑转化为单目标，但有各种缺点"><a href="#考虑转化为单目标，但有各种缺点" class="headerlink" title="考虑转化为单目标，但有各种缺点"></a>考虑转化为单目标，但有各种缺点</h2><ol>
<li>多个目标函数凸组合</li>
<li>目标函数分量中最大的那个作为目标</li>
<li>若目标函数分量都非负，取目标函数向量p范数作为目标</li>
<li>一个分量作为目标，其他作为约束条件</li>
</ol>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                  <div class="post-meta mr-3">
                    <i class="iconfont icon-category"></i>
                    
                      <a class="hover-with-bg" href="/blogsite/categories/%E7%9F%A5%E8%AF%86/">知识</a>
                    
                  </div>
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/blogsite/tags/%E5%A4%8D%E4%B9%A0/">复习</a>
                    
                  </div>
                
              </div>
              
              
                <div class="post-prevnext">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/blogsite/2021/07/13/%E4%B8%80%E6%9F%84%E6%96%AD%E5%89%91/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">一柄断剑</span>
                        <span class="visible-mobile">上一篇</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/blogsite/2021/06/19/%E5%AE%89%E5%A8%9C%E5%8D%A1%E5%88%97%E5%B0%BC%E5%A8%9C/">
                        <span class="hidden-mobile">《安娜卡列尼娜》读后感</span>
                        <span class="visible-mobile">下一篇</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p>
  <div class="toc-body" id="toc-body"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">搜索</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">关键词</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
  <div class="footer-content">
     <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a> 
  </div>
  

  

  
</footer>


  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/blogsite/js/events.js" ></script>
<script  src="/blogsite/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/blogsite/js/local-search.js" ></script>



  
    <script  src="/blogsite/js/img-lazyload.js" ></script>
  



  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  






  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
        typing(title);
      
    })(window, document);
  </script>





  

  
    <!-- MathJax -->
    <script>
      MathJax = {
        tex: {
          inlineMath: [['$', '$'], ['\\(', '\\)']]
        },
        loader: {
          load: ['ui/lazy']
        },
        options: {
          renderActions: {
            findScript: [10, doc => {
              document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
                const display = !!node.type.match(/; *mode=display/);
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                const text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = { node: text, delim: '', n: 0 };
                math.end = { node: text, delim: '', n: 0 };
                doc.math.push(math);
              });
            }, '', false],
            insertedScript: [200, () => {
              document.querySelectorAll('mjx-container').forEach(node => {
                let target = node.parentNode;
                if (target.nodeName.toLowerCase() === 'li') {
                  target.parentNode.classList.add('has-jax');
                }
              });
            }, '', false]
          }
        }
      };
    </script>

    <script async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" ></script>

  











<!-- 主题的启动项 保持在最底部 -->
<script  src="/blogsite/js/boot.js" ></script>


</body>
</html>
